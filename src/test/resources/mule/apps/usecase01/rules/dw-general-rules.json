{
  "tasks":
  [
    {
      "xpathSelector" : "//dw:set-payload",
      "taskDescriptor" : "Migrate dw script",
      "stepsDefinition" : [
        {
          "stepDescriptor" : "Migrate dataweave script",
          "type" : "com.mulesoft.tools.migration.task.step.MigrateDataweaveScript",
          "parameters" : {
          }
        }
      ]
    },
    {
      "xpathSelector" : "//dw:*",
      "taskDescriptor" : "Update Mule DW Namespace",
      "stepsDefinition" : [
        {
          "stepDescriptor" : "Delete dw namespace",
          "type" : "com.mulesoft.tools.migration.task.step.DeleteNamespace",
          "parameters" : {
            "namespace" : "dw",
            "namespaceUri" : "http://www.mulesoft.org/schema/mule/ee/dw",
            "schemaLocationUrl":"http://www.mulesoft.org/schema/mule/ee/dw/current/dw.xsd"
          }
        },
        {
          "stepDescriptor" : "Update dw namespace",
          "type" : "com.mulesoft.tools.migration.task.step.SetNodeNamespace",
          "parameters" : {
            "newNamespace" : "ee",
            "newNamespaceUri" : "http://www.mulesoft.org/schema/mule/ee/core",
            "schemaLocationUrl":"http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd"
          }
        }

      ]
    },
    {
      "xpathSelector" : "//ee:*",
      "taskDescriptor" : "Update Mule DW Components",
      "stepsDefinition" : [
        {
          "stepDescriptor" : "Rename transform message",
          "type" : "com.mulesoft.tools.migration.task.step.ReplaceStringOnNodeName",
          "parameters" : {
            "stringToReplace" : "transform-message",
            "newValue" : "transform"
          }
        }
      ]
    },
    {
      "xpathSelector" : "//ee:set-payload",
      "taskDescriptor" : "Update Mule Message",
      "stepsDefinition" : [
        {
          "stepDescriptor" : "Update mule message structure",
          "type" : "com.mulesoft.tools.migration.task.step.UpdateMuleMessageContent",
          "parameters" : {
          }
        }
      ]
    }
  ]
}

